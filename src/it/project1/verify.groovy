String buildLog = new File(basedir, 'build.log').text

assert buildLog.contains("[ERROR] ValidationViolation: \"netcentric-aem-replication-metadata: No replication date found for agent publish\", filePath=jcr_root${File.separator}apps${File.separator}example${File.separator}_sling_configs${File.separator}com.adobe.cq.wcm.core.components.internal.DataLayerConfig${File.separator}.content.xml, nodePath=/apps/example/sling:configs/com.adobe.cq.wcm.core.components.internal.DataLayerConfig/jcr:content, line=7, column=34") : 'data layer violation not found'
assert buildLog.contains("[ERROR] ValidationViolation: \"netcentric-aem-replication-metadata: The replication date 2021-12-31T23:00:00Z is older than the last modification date 2022-01-01T23:00:00Z for agent publish\", filePath=jcr_root${File.separator}conf${File.separator}example${File.separator}settings${File.separator}wcm${File.separator}templates${File.separator}template1${File.separator}structure${File.separator}.content.xml, nodePath=/conf/example/settings/wcm/templates/template1/structure/jcr:content, line=18, column=107") : 'template structure violation not found'
assert buildLog.contains('[ERROR] Failed to execute goal org.apache.jackrabbit:filevault-package-maven-plugin:1.3.0:validate-package (default-validate-package) on project application-package: Found 1 violation(s) (with severity=ERROR). Check above errors for details -> [Help 1]') : 'Incorrect number of validation issues found'
assert buildLog.contains('[ERROR] Failed to execute goal org.apache.jackrabbit:filevault-package-maven-plugin:1.3.0:validate-package (default-validate-package) on project content-package: Found 1 violation(s) (with severity=ERROR). Check above errors for details -> [Help 1]') : 'Incorrect number of validation issues found'
